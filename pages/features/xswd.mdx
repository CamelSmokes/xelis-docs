---
title: XSWD
---

## Introduction

XSWD (XELIS Secure WebSocket DApp) is a simple and secure protocol based on WebSocket protocol to allow permissioned data exchange between two parties.
Your wallet would acts like a WebSocket server on port **44235** and allow any decentralized application (any website or application included) to connect to it and request access to wallet.

It is based on JSON-RPC API of the wallet and each data request made by an application must have a permission granted by the user.
This way allows to control the data access and prevent any unauthorized access to the wallet.

Instead of giving full credentials access of the JSON-RPC API of the wallet to a dApp or to trust a third party that would do the bridge between your wallet and the dApp, XSWD do all this work in the wallet itself.

To allow easier usage of XELIS network, the XSWD can also play the role of a proxy between the application and the daemon, which mean all daemon requests are made through XSWD.
This is useful as you would have to only manage one connection, and as long as the wallet is connected to a node, the XSWD will be able to make requests to the daemon.

## Protocol

The protocol is based on WebSocket protocol and the communication is made using JSON-RPC 2.0.
XSWD only listen on port `44325` and on path `/xswd`.
This is done so there is no need for the user to configure anything on the application side, it knows automatically where to connect to.

When a connection is established, the first message sent by the application must be the ApplicationData format, which is the following:
```json
{
    "id": "0000006b2aec4651b82111816ed599d1b72176c425128c66b2ab945552437dc9",
    "name": "XELIS Example",
    "description": "Description example of up to 255 characters",
    "url": "https://xelis.io",
    "permissions": {},
    "signature": null
}
```

- The `id` field is a unique identifier of the application and must be a 64 characters long hexadecimal string.<br/>
- The `name` field is the name of the application and must be a string of up to 32 characters.
- The `description` field is the description of the application and must be a string of up to 255 characters.
- The `url` field is the URL of the application and must be a valid URL of up to 255 characters. It's origin must match the url in case of website application.
- The `permissions` field is an object that contains the permissions list set by the user.
    - It is empty at the first connection.
    - It is used in case user allows to the application to store its permissions set for easier access next time.
- The `signature` field is a signature generated by the wallet to validate that the permissions given above are valid and allowed by users.
    - It is a hexadecimal string provided by XSWD.
    - It is a signature made on the hash of Application Data fields except the signature field itself.

In case of success and accepted by the wallet user, the XSWD will respond with the following message:
```json
{
    "id": null,
    "jsonrpc": "2.0",
    "result": true
}
```

In case of failure, the XSWD will respond with an error in JSON-RPC format:
```json
{
    "id": null,
    "jsonrpc": "2.0",
    "error": {
        "code": -32603,
        "message": "Invalid JSON format for application data"
    }
}
```

## Permissions

The permissions are set based on the RPC method requested and are the following:
- **ask**: The application must ask each time the permission to the user when a request is made.
- **accept_always**: The application is allowed to make the request without asking the user each time.
- **deny_always**: The application is not allowed to make the request and the user will not be asked again. Request will be always denied until changed.

The permissions are **not** persisted in the wallet and are only valid for the current session.
For persistance, the application must store the permissions set by the user and send it back in the ApplicationData message if allowed.

## RPC Methods

The RPC methods are the same as the JSON-RPC API of the wallet except that you must set the prefix `wallet.` for each RPC method that are destined to the wallet.
You can find the list of methods in the [JSON-RPC API documentation](/developers-api/wallet).

Same for the daemon, you must set the prefix `node.` for each RPC method that are destined to the daemon.<br/>
**NOTE**: RPC methods that are prefixed with `node.` are only available if the wallet is connected to a node and don't require any permission set by the user.

You can also listen to any wallet event available in the traditional RPC-API through XSWD.

## Future Features

Because you can only use one XSWD per device, we are planning to make a proxy system that would distribute the requests to multiple wallets and allow to manage multiple wallets at the same time.
This may be useful for advanced users who want to manage multiple wallets at the same time or for developers who want to test their application with multiple wallets at once.

Another idea would be to provide a random generated certificate for TLS support above the WebSocket protocol to ensure the security of the communication between the application and the wallet.
Unfortunately that would break the compabitility with browsers as they don't support self-signed certificates for WebSocket protocol. But this could be reserved for specific applications that would use the XSWD protocol.