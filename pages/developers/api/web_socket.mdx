# Web Socket API

## Connect

All Daemon API methods are available to send through webscoket.  
Connect with suffix `/ws`.

```js
const ws = new WebSocket('wss://node.xelis.io/ws')

const message = {
  jsonrpc: '2.0',
  method: 'get_info',
  id: 1
}

ws.send(JSON.stringify(message))
```

You can also register to special events that happens on the daemon.
Check documentation below to subscribe and see available events.

## `NewBlock`

> When a new block is accepted by chain

Request

```json
{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "subscribe",
    "params": {
        "notify": "NewBlock"
    }
}
```

Response

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "block_type": "Normal",
        "cumulative_difficulty": 95411226796,
        "difficulty": 3291268,
        "event": "NewBlock",
        "extra_nonce": "2365cfaac7652364a8fc9cfeadcbb16a0e29ae8c3aa48f099449ac92d161f91e",
        "hash": "ad4c28c060f8bcc6fd7ccf955eeaebcd5611d69fc22a17b8ec6961a995b2c6be",
        "height": 20698,
        "miner": "xel1qyqxcfxdc8ywarcz3wx2leahnfn2pyp0ymvfm42waluq408j2x5680g05xfx5",
        "nonce": 0,
        "reward": 868763,
        "supply": 18071559927,
        "timestamp": 1677081254817,
        "tips": [
            "1faac9784c07b41d6e8740f15b23c163966aecebc1b7cac77aca74946a25625d"
        ],
        "topoheight": 20698,
        "total_fees": 0,
        "total_size_in_bytes": 131,
        "txs_hashes": []
    }
}
```

## `TransactionExecuted`

> When a transaction has been included in a valid block & executed on chain

## `TransactionSCResult`

> When a valid TX SC Call hash has been executed by chain

## `NewAsset`

> When a new asset has been registered
